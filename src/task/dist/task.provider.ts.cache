"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true , configurable: true});
//exports.TaskUtilities = void 0;
var common_1 = require("@nestjs/common");
var uuid_1 = require("uuid");
var category_keyword_1 = require("./predefined/category.keyword");
var priority_keyword_1 = require("./predefined/priority.keyword");
var TaskUtilities = (function () {
    function TaskUtilities() {
    }
    TaskUtilities.prototype.generateUUID = function () {
        return (0, uuid_1.v4)();
    };
    TaskUtilities.prototype.extractCategory = function (text) {
        text = text.toLowerCase();
        var iterator = category_keyword_1.categoryMap.entries();
        var result = iterator.next();
        while (!result.done) {
            var _a = result.value, key = _a[0], val = _a[1];
            if (val.some(function (keyword) { return text.includes(keyword); })) {
                return key;
            }
            result = iterator.next();
        }
        return "general";
    };
    TaskUtilities.prototype.extractPriority = function (text) {
        text = text.toLowerCase();
        var iterator = priority_keyword_1.priorityMap.entries();
        var result = iterator.next();
        while (!result.done) {
            var _a = result.value, key = _a[0], val = _a[1];
            if (val.some(function (keyword) { return text.includes(keyword); })) {
                return key;
            }
            result = iterator.next();
        }
        return "low";
    };
    TaskUtilities = __decorate([
        (0, common_1.Injectable)()
    ], TaskUtilities);
    return TaskUtilities;
}());
exports.TaskUtilities = TaskUtilities;
var utils = new TaskUtilities();
console.log(utils.extractCategory("Schedule urgent meeting with team today"));
console.log(utils.extractPriority("Schedule urgent meeting with team today"));
console.log(utils.extractCategory("Fix server error tomorrow"));
utils.extractPriority("Fix server error tomorrow");
var suggested_actions = {
    "scheduling": ["Block calendar", "Send invite", "Prepare agenda", "Setreminder"],
    "finance": ["Check budget", "Get approval", "Generate invoice", "Updaterecords"],
    "technical": ["Diagnose issue", "Check resources", "Assign technician", "Document fix"],
    "safety": ["Conduct inspection", "File report", "Notify supervisor", "Update checklist"]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFzay5wcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3Rhc2sucHJvdmlkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEseUNBQTRDO0FBQzVDLDZCQUFvQztBQUNwQyxrRUFBNEQ7QUFDNUQsa0VBQTREO0FBRzVEO0lBQUE7SUF3Q0EsQ0FBQztJQXZDRyxvQ0FBWSxHQUFaO1FBQ0ksT0FBTyxJQUFBLFNBQU0sR0FBRSxDQUFBO0lBQ25CLENBQUM7SUFFRCx1Q0FBZSxHQUFmLFVBQWdCLElBQVk7UUFDeEIsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQTtRQUV6QixJQUFNLFFBQVEsR0FBb0MsOEJBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUV2RSxJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFFNUIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNaLElBQUEsS0FBYSxNQUFNLENBQUMsS0FBSyxFQUF4QixHQUFHLFFBQUEsRUFBRSxHQUFHLFFBQWdCLENBQUE7WUFDL0IsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQUMsT0FBTyxJQUFLLE9BQUEsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBdEIsQ0FBc0IsQ0FBQyxFQUFFLENBQUM7Z0JBQ2hELE9BQU8sR0FBRyxDQUFBO1lBQ2QsQ0FBQztZQUNELE1BQU0sR0FBRyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDNUIsQ0FBQztRQUVELE9BQU8sU0FBUyxDQUFBO0lBQ3BCLENBQUM7SUFFRCx1Q0FBZSxHQUFmLFVBQWdCLElBQVk7UUFDeEIsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQTtRQUV6QixJQUFNLFFBQVEsR0FBb0MsOEJBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUV2RSxJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFFNUIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNaLElBQUEsS0FBYSxNQUFNLENBQUMsS0FBSyxFQUF4QixHQUFHLFFBQUEsRUFBRSxHQUFHLFFBQWdCLENBQUE7WUFDL0IsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQUMsT0FBTyxJQUFLLE9BQUEsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBdEIsQ0FBc0IsQ0FBQyxFQUFFLENBQUM7Z0JBQ2hELE9BQU8sR0FBRyxDQUFBO1lBQ2QsQ0FBQztZQUNELE1BQU0sR0FBRyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDNUIsQ0FBQztRQUVELE9BQU8sS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUF2Q1EsYUFBYTtRQUR6QixJQUFBLG1CQUFVLEdBQUU7T0FDQSxhQUFhLENBd0N6QjtJQUFELG9CQUFDO0NBQUEsQUF4Q0QsSUF3Q0M7QUF4Q1ksc0NBQWE7QUF5QzFCLElBQU0sS0FBSyxHQUFHLElBQUksYUFBYSxFQUFFLENBQUM7QUFFbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLHlDQUF5QyxDQUFDLENBQUMsQ0FBQTtBQUc3RSxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMseUNBQXlDLENBQUMsQ0FBQyxDQUFDO0FBRzlFLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLENBQUM7QUFHaEUsS0FBSyxDQUFDLGVBQWUsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0FBSW5ELElBQU0saUJBQWlCLEdBQUc7SUFDdEIsWUFBWSxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsYUFBYSxFQUFFLGdCQUFnQixFQUFFLGFBQWEsQ0FBQztJQUNoRixTQUFTLEVBQUUsQ0FBQyxjQUFjLEVBQUUsY0FBYyxFQUFFLGtCQUFrQixFQUFFLGVBQWUsQ0FBQztJQUNoRixXQUFXLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxpQkFBaUIsRUFBRSxtQkFBbUIsRUFBRSxjQUFjLENBQUM7SUFDdkYsUUFBUSxFQUFFLENBQUMsb0JBQW9CLEVBQUUsYUFBYSxFQUFFLG1CQUFtQixFQUFFLGtCQUFrQixDQUFDO0NBQzNGLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBjYXRlZ29yeU1hcCB9IGZyb20gJy4vcHJlZGVmaW5lZC9jYXRlZ29yeS5rZXl3b3JkJztcbmltcG9ydCB7IHByaW9yaXR5TWFwIH0gZnJvbSAnLi9wcmVkZWZpbmVkL3ByaW9yaXR5LmtleXdvcmQnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgVGFza1V0aWxpdGllcyB7XG4gICAgZ2VuZXJhdGVVVUlEKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB1dWlkdjQoKVxuICAgIH1cblxuICAgIGV4dHJhY3RDYXRlZ29yeSh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICB0ZXh0ID0gdGV4dC50b0xvd2VyQ2FzZSgpXG5cbiAgICAgICAgY29uc3QgaXRlcmF0b3I6IE1hcEl0ZXJhdG9yPFtzdHJpbmcsIHN0cmluZ1tdXT4gPSBjYXRlZ29yeU1hcC5lbnRyaWVzKClcblxuICAgICAgICBsZXQgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpXG5cbiAgICAgICAgd2hpbGUgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgY29uc3QgW2tleSwgdmFsXSA9IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgaWYgKHZhbC5zb21lKChrZXl3b3JkKSA9PiB0ZXh0LmluY2x1ZGVzKGtleXdvcmQpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFwiZ2VuZXJhbFwiXG4gICAgfVxuXG4gICAgZXh0cmFjdFByaW9yaXR5KHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnRvTG93ZXJDYXNlKClcblxuICAgICAgICBjb25zdCBpdGVyYXRvcjogTWFwSXRlcmF0b3I8W3N0cmluZywgc3RyaW5nW11dPiA9IHByaW9yaXR5TWFwLmVudHJpZXMoKVxuXG4gICAgICAgIGxldCByZXN1bHQgPSBpdGVyYXRvci5uZXh0KClcblxuICAgICAgICB3aGlsZSAoIXJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICBjb25zdCBba2V5LCB2YWxdID0gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICBpZiAodmFsLnNvbWUoKGtleXdvcmQpID0+IHRleHQuaW5jbHVkZXMoa2V5d29yZCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gXCJsb3dcIlxuICAgIH1cbn1cbmNvbnN0IHV0aWxzID0gbmV3IFRhc2tVdGlsaXRpZXMoKTtcblxuY29uc29sZS5sb2codXRpbHMuZXh0cmFjdENhdGVnb3J5KFwiU2NoZWR1bGUgdXJnZW50IG1lZXRpbmcgd2l0aCB0ZWFtIHRvZGF5XCIpKVxuLy8g4oaSIFwic2NoZWR1bGluZ1wiXG5cbmNvbnNvbGUubG9nKHV0aWxzLmV4dHJhY3RQcmlvcml0eShcIlNjaGVkdWxlIHVyZ2VudCBtZWV0aW5nIHdpdGggdGVhbSB0b2RheVwiKSk7XG4vLyDihpIgXCJoaWdoXCJcblxuY29uc29sZS5sb2codXRpbHMuZXh0cmFjdENhdGVnb3J5KFwiRml4IHNlcnZlciBlcnJvciB0b21vcnJvd1wiKSk7XG4vLyDihpIgXCJ0ZWNobmljYWxcIlxuXG51dGlscy5leHRyYWN0UHJpb3JpdHkoXCJGaXggc2VydmVyIGVycm9yIHRvbW9ycm93XCIpO1xuLy8g4oaSIFwibG93XCIgKG5vIHVyZ2VuY3kgd29yZHMpXG5cblxuY29uc3Qgc3VnZ2VzdGVkX2FjdGlvbnMgPSB7XG4gICAgXCJzY2hlZHVsaW5nXCI6IFtcIkJsb2NrIGNhbGVuZGFyXCIsIFwiU2VuZCBpbnZpdGVcIiwgXCJQcmVwYXJlIGFnZW5kYVwiLCBcIlNldHJlbWluZGVyXCJdLFxuICAgIFwiZmluYW5jZVwiOiBbXCJDaGVjayBidWRnZXRcIiwgXCJHZXQgYXBwcm92YWxcIiwgXCJHZW5lcmF0ZSBpbnZvaWNlXCIsIFwiVXBkYXRlcmVjb3Jkc1wiXSxcbiAgICBcInRlY2huaWNhbFwiOiBbXCJEaWFnbm9zZSBpc3N1ZVwiLCBcIkNoZWNrIHJlc291cmNlc1wiLCBcIkFzc2lnbiB0ZWNobmljaWFuXCIsIFwiRG9jdW1lbnQgZml4XCJdLFxuICAgIFwic2FmZXR5XCI6IFtcIkNvbmR1Y3QgaW5zcGVjdGlvblwiLCBcIkZpbGUgcmVwb3J0XCIsIFwiTm90aWZ5IHN1cGVydmlzb3JcIiwgXCJVcGRhdGUgY2hlY2tsaXN0XCJdXG59Il19
 /* _JS_SOURCE_HASH = "dd11df7e2638ed7dce106d4743d2f9bf644cf8fbbdccecf6e1c651dbfad65e46"; */